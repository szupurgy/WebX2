// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model user {
  id             Int        @id @default(autoincrement())
  felhasznalonev String
  email          String     @unique
  jelszo         String
  telszam        String
  szuldatum      String
  cim            cim[]
  rendeles       rendeles[]

  @@map("Felhasznalok")
}

model termek {
  id       Int        @id @default(autoincrement())
  nev      String
  leiras   String
  ar       Int
  akcios   Boolean    @default(false)
  akciosar Int?
  rendeles rendeles[]

  @@map("Termekek")
}

model cim {
  id           Int        @id @default(autoincrement())
  orszag       String?
  varos        String?
  utca         String?
  hazszam      Int?
  iranyitoszam Int?
  felhasznalo  user       @relation(fields: [fid], references: [id])
  fid          Int
  rendeles     rendeles[]

  @@map("SzalCimek")
}

model rendeles {
  id          Int      @id @default(autoincrement())
  datum       DateTime @default(now())
  Felhasznalo user     @relation(fields: [floID], references: [id])
  floID       Int
  Termek      termek   @relation(fields: [TmkID], references: [id])
  TmkID       Int
  Cim         cim      @relation(fields: [CimID], references: [id])
  CimID       Int
  fizMod      String
  SzalMod     String

  @@map("Rendelesek")
}
