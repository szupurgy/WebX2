generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model felhasznalok {
  id             Int          @id @default(autoincrement())
  felhasznalonev String
  email          String       
  jelszo         String
  telszam        String
  szuldatum      String
  rendelesek     rendelesek[]
  szalcimek      szalcimek?
}

model fizmodok {
  id         Int          @id @default(autoincrement())
  tipus      String
  rendelesek rendelesek[]
}

model rendelesek {
  id           Int          @id @default(autoincrement())
  datum        DateTime     @default(now())
  CimID        Int
  SzalID       Int
  TmkID        Int
  fizID        Int
  floID        Int
  szalcimek    szalcimek    @relation(fields: [CimID], references: [id], map: "Rendelesek_CimID_fkey")
  szalmodok    szalmodok    @relation(fields: [SzalID], references: [id], map: "Rendelesek_SzalID_fkey")
  termekek     termekek     @relation(fields: [TmkID], references: [id], map: "Rendelesek_TmkID_fkey")
  fizmodok     fizmodok     @relation(fields: [fizID], references: [id], map: "Rendelesek_fizID_fkey")
  felhasznalok felhasznalok @relation(fields: [floID], references: [id], map: "Rendelesek_floID_fkey")

  @@index([CimID], map: "Rendelesek_CimID_fkey")
  @@index([SzalID], map: "Rendelesek_SzalID_fkey")
  @@index([TmkID], map: "Rendelesek_TmkID_fkey")
  @@index([fizID], map: "Rendelesek_fizID_fkey")
  @@index([floID], map: "Rendelesek_floID_fkey")
}

model szalcimek {
  id           Int          @id @default(autoincrement())
  orszag       String?
  varos        String?
  utca         String?
  hazszam      Int?
  iranyitoszam Int?
  fid          Int          @unique(map: "SzalCimek_fid_key")
  rendelesek   rendelesek[]
  felhasznalok felhasznalok @relation(fields: [fid], references: [id], map: "SzalCimek_fid_fkey")
}

model szalmodok {
  id         Int          @id @default(autoincrement())
  tipus      String
  rendelesek rendelesek[]
}

model termekek {
  id         Int          @id @default(autoincrement())
  nev        String
  leiras     String
  ar         Int
  akcios     Boolean      @default(false)
  akciosar   Int?
  rendelesek rendelesek[]
}
